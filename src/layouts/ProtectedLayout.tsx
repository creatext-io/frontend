import { styled } from "@stitches/react";
import { Navigate, useOutlet } from "react-router-dom";

const Navbar = styled("nav", {
  position: "fixed",
  width: "100%",
  display: "flex",
  justifyContent: "space-between",
  background: "#7A7FD3",
  borderBottom: "1px solid rgb(239, 241, 244)",
  padding: "1rem 2rem",
});

const MainContainer = styled("main", {
  paddingTop: "100px",
});

export const ProtectedLayout = () => {
  //   const { user } = useAuth();
  const outlet = useOutlet();

  if (!window.localStorage.getItem("userId")) {
    return <Navigate to="/" />;
  }

  return (
    <div>
      <Navbar>
        <svg
          width="126"
          height="36"
          viewBox="0 0 126 36"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M10.28 35.528C8.296 35.528 6.52 35.144 4.952 34.376C3.384 33.576 2.168 32.488 1.304 31.112C0.44 29.704 0.00800008 28.12 0.00800008 26.36C0.00800008 24.952 0.312 23.384 0.92 21.656C1.112 21.08 1.4 20.648 1.784 20.36C2.2 20.072 2.632 19.928 3.08 19.928C3.592 19.928 4.024 20.104 4.376 20.456C4.728 20.776 4.904 21.224 4.904 21.8C4.904 22.248 4.776 22.888 4.52 23.72C4.2 24.744 4.04 25.592 4.04 26.264C4.04 27.896 4.632 29.256 5.816 30.344C7 31.4 8.536 31.928 10.424 31.928C12.376 31.928 13.96 31.368 15.176 30.248C16.424 29.096 17.048 27.672 17.048 25.976C17.048 24.568 16.632 23.4 15.8 22.472C15 21.512 13.72 20.408 11.96 19.16L11.096 18.536C9.496 17.384 8.2 16.36 7.208 15.464C6.216 14.568 5.368 13.496 4.664 12.248C3.96 10.968 3.608 9.544 3.608 7.976C3.608 6.728 3.944 5.56 4.616 4.472C5.288 3.384 6.232 2.52 7.448 1.88C8.664 1.24 10.024 0.919998 11.528 0.919998C13.672 0.919998 15.496 1.528 17 2.744C18.504 3.928 19.256 5.528 19.256 7.544C19.256 8.472 19.096 9.256 18.776 9.896C18.456 10.536 17.928 10.856 17.192 10.856C16.712 10.856 16.28 10.696 15.896 10.376C15.544 10.056 15.368 9.656 15.368 9.176C15.368 8.952 15.384 8.728 15.416 8.504C15.448 8.248 15.464 7.992 15.464 7.736C15.464 6.872 15.08 6.12 14.312 5.48C13.544 4.84 12.6 4.52 11.48 4.52C10.392 4.52 9.48 4.856 8.744 5.528C8.008 6.168 7.64 6.968 7.64 7.928C7.64 8.92 7.896 9.832 8.408 10.664C8.92 11.496 9.56 12.232 10.328 12.872C11.128 13.512 12.2 14.328 13.544 15.32C15.368 16.664 16.728 17.72 17.624 18.488C18.52 19.256 19.32 20.248 20.024 21.464C20.728 22.68 21.08 24.088 21.08 25.688C21.08 27.512 20.616 29.176 19.688 30.68C18.76 32.184 17.464 33.368 15.8 34.232C14.168 35.096 12.328 35.528 10.28 35.528ZM33.0676 35.384C30.3796 35.384 28.2196 34.552 26.5876 32.888C24.9876 31.224 24.1876 28.968 24.1876 26.12C24.1876 24.008 24.5876 22.136 25.3876 20.504C26.2196 18.84 27.3076 17.56 28.6516 16.664C30.0276 15.768 31.4996 15.32 33.0676 15.32C34.7956 15.32 36.1876 15.8 37.2436 16.76C38.3316 17.688 38.8756 18.84 38.8756 20.216C38.8756 22.008 38.2516 22.904 37.0036 22.904C35.7876 22.904 35.1796 22.248 35.1796 20.936C35.1796 20.296 34.9876 19.784 34.6036 19.4C34.2196 19.016 33.7076 18.824 33.0676 18.824C32.2036 18.824 31.3876 19.112 30.6196 19.688C29.8516 20.264 29.2276 21.096 28.7476 22.184C28.2676 23.272 28.0276 24.568 28.0276 26.072C28.0276 27.928 28.4756 29.368 29.3716 30.392C30.2996 31.384 31.5476 31.88 33.1156 31.88C35.0996 31.88 36.9236 31.016 38.5876 29.288C40.2516 27.56 41.5956 25.4 42.6196 22.808C42.9396 21.976 43.4676 21.56 44.2036 21.56C44.6196 21.56 44.9716 21.704 45.2596 21.992C45.5796 22.28 45.7396 22.648 45.7396 23.096C45.7396 23.32 45.6916 23.56 45.5956 23.816C44.1236 27.784 42.2836 30.712 40.0756 32.6C37.8676 34.456 35.5316 35.384 33.0676 35.384ZM53.8505 35.144C52.0585 35.144 50.5865 34.568 49.4345 33.416C48.3145 32.264 47.7545 30.792 47.7545 29C47.7545 27.496 48.0425 25.928 48.6185 24.296C49.1945 22.632 50.0265 20.568 51.1145 18.104L52.1225 19.448C50.2985 19.576 48.3785 19.08 46.3625 17.96L47.9465 17.24C47.1785 19.544 46.3945 21.736 45.5945 23.816C45.2745 24.616 44.7465 25.016 44.0105 25.016C43.5945 25.016 43.2265 24.888 42.9065 24.632C42.6185 24.344 42.4745 23.976 42.4745 23.528C42.4745 23.272 42.5225 23.032 42.6185 22.808C43.4825 20.632 44.1385 18.664 44.5865 16.904C44.1065 16.552 43.8665 15.992 43.8665 15.224C43.8665 14.68 44.0265 14.2 44.3465 13.784C44.6665 13.368 45.0985 13.16 45.6425 13.16C46.0265 13.16 46.3305 13.24 46.5545 13.4C46.8105 13.528 47.0505 13.752 47.2745 14.072C47.7225 14.68 48.2345 15.192 48.8105 15.608C49.4185 15.992 50.2345 16.184 51.2585 16.184C51.6425 16.184 52.0585 16.12 52.5065 15.992C52.9545 15.864 53.2745 15.8 53.4665 15.8C53.9465 15.8 54.3465 15.976 54.6665 16.328C54.9865 16.648 55.1465 17.064 55.1465 17.576C55.1465 18.024 54.9705 18.68 54.6185 19.544C54.5545 19.704 54.4745 19.912 54.3785 20.168C54.2825 20.392 54.1545 20.664 53.9945 20.984C53.2265 22.776 52.6345 24.28 52.2185 25.496C51.8025 26.68 51.5945 27.784 51.5945 28.808C51.5945 29.704 51.8345 30.408 52.3145 30.92C52.7945 31.4 53.4505 31.64 54.2825 31.64C56.4585 31.64 58.6985 28.696 61.0025 22.808C61.3225 21.944 61.8505 21.512 62.5865 21.512C63.0025 21.512 63.3545 21.672 63.6425 21.992C63.9625 22.28 64.1225 22.664 64.1225 23.144C64.1225 23.336 64.0745 23.56 63.9785 23.816C62.5385 27.656 61.0505 30.504 59.5145 32.36C57.9785 34.216 56.0905 35.144 53.8505 35.144ZM66.2255 35.192C64.5615 35.192 63.2335 34.536 62.2415 33.224C61.2495 31.912 60.7535 29.896 60.7535 27.176C60.7535 25.992 60.8495 24.456 61.0415 22.568C61.2655 20.68 61.5055 19.016 61.7615 17.576C61.8895 16.904 62.1455 16.392 62.5295 16.04C62.9135 15.656 63.3455 15.464 63.8255 15.464C64.3695 15.464 64.8175 15.688 65.1695 16.136C65.5215 16.584 65.6495 17.208 65.5535 18.008C65.3935 19.32 65.2815 20.184 65.2175 20.6C65.0575 21.784 64.9135 23.016 64.7855 24.296C64.6575 25.544 64.5935 26.6 64.5935 27.464C64.5935 30.28 65.2175 31.688 66.4655 31.688C67.3295 31.688 68.2895 30.808 69.3455 29.048C70.4015 27.288 71.3935 25.208 72.3215 22.808C72.4815 22.36 72.6895 22.04 72.9455 21.848C73.2335 21.624 73.5375 21.512 73.8575 21.512C74.2735 21.512 74.6415 21.672 74.9615 21.992C75.2815 22.28 75.4415 22.664 75.4415 23.144C75.4415 23.336 75.3935 23.56 75.2975 23.816C73.7615 27.784 72.3375 30.68 71.0255 32.504C69.7135 34.296 68.1135 35.192 66.2255 35.192ZM64.2095 13.064C63.5695 13.064 63.0255 12.84 62.5775 12.392C62.1295 11.944 61.9055 11.4 61.9055 10.76C61.9055 10.12 62.1295 9.592 62.5775 9.176C63.0255 8.728 63.5695 8.504 64.2095 8.504C64.8495 8.504 65.3775 8.728 65.7935 9.176C66.2415 9.592 66.4655 10.12 66.4655 10.76C66.4655 11.4 66.2415 11.944 65.7935 12.392C65.3775 12.84 64.8495 13.064 64.2095 13.064ZM80.5933 35.288C75.1213 35.288 72.3853 30.872 72.3853 22.04C72.3853 17.816 72.8653 14.104 73.8253 10.904C74.7853 7.672 76.1293 5.176 77.8573 3.416C79.5853 1.624 81.5533 0.727998 83.7613 0.727998C85.4893 0.727998 86.8493 1.24 87.8413 2.264C88.8653 3.256 89.3773 4.536 89.3773 6.104C89.3773 7.512 88.9613 8.808 88.1293 9.992C87.3293 11.144 86.0653 12.088 84.3373 12.824C82.6093 13.528 80.4653 13.88 77.9053 13.88C75.7293 13.88 74.0493 13.72 72.8652 13.4C72.3533 13.272 71.9693 13.048 71.7133 12.728C71.4573 12.376 71.3293 12.008 71.3293 11.624C71.3293 11.208 71.4733 10.856 71.7613 10.568C72.0813 10.248 72.4813 10.088 72.9613 10.088C73.2173 10.088 73.5373 10.136 73.9213 10.232C75.2013 10.552 76.7213 10.712 78.4813 10.712C80.0173 10.712 81.3293 10.488 82.4173 10.04C83.5373 9.592 84.3693 9.016 84.9133 8.312C85.4893 7.608 85.7773 6.888 85.7773 6.152C85.7773 5.576 85.6013 5.112 85.2493 4.76C84.8973 4.408 84.4173 4.232 83.8093 4.232C82.4013 4.232 81.1213 4.952 79.9693 6.392C78.8173 7.832 77.9053 9.88 77.2333 12.536C76.5613 15.16 76.2253 18.184 76.2253 21.608C76.2253 25.224 76.6253 27.832 77.4253 29.432C78.2573 31 79.3133 31.784 80.5933 31.784C81.6173 31.784 82.5293 31.352 83.3293 30.488C84.1293 29.592 84.7533 28.488 85.2013 27.176C85.6493 25.832 85.8733 24.52 85.8733 23.24C85.8733 22.056 85.6333 21.08 85.1533 20.312C84.6733 19.512 84.0173 19.112 83.1853 19.112C82.3853 19.112 81.7133 19.464 81.1693 20.168C80.6573 20.872 80.4013 21.768 80.4013 22.856C80.4013 24.232 80.9773 25.4 82.1293 26.36C83.2813 27.32 84.8493 27.8 86.8333 27.8C88.5293 27.8 89.8573 27.368 90.8173 26.504C91.8093 25.64 92.6413 24.408 93.3133 22.808C93.5053 22.392 93.7453 22.088 94.0333 21.896C94.3533 21.672 94.6733 21.56 94.9933 21.56C95.3773 21.56 95.7133 21.704 96.0013 21.992C96.2893 22.248 96.4333 22.6 96.4333 23.048C96.4333 23.272 96.3853 23.528 96.2893 23.816C95.5213 26.152 94.3053 27.928 92.6413 29.144C90.9773 30.36 89.0573 30.968 86.8813 30.968C85.0573 30.968 83.3933 30.616 81.8893 29.912C80.3853 29.208 79.2013 28.232 78.3372 26.984C77.4733 25.736 77.0413 24.344 77.0413 22.808C77.0413 20.632 77.6173 18.904 78.7693 17.624C79.9533 16.312 81.4733 15.656 83.3293 15.656C85.4093 15.656 86.9933 16.408 88.0813 17.912C89.1693 19.416 89.7133 21.288 89.7133 23.528C89.7133 25.416 89.3293 27.272 88.5613 29.096C87.8253 30.888 86.7533 32.376 85.3453 33.56C83.9693 34.712 82.3853 35.288 80.5933 35.288ZM100.586 35.192C98.3464 35.192 96.5864 34.232 95.3064 32.312C94.0264 30.36 93.3864 27.112 93.3864 22.568C93.3864 14.632 94.1704 9.064 95.7384 5.864C97.3384 2.632 99.3864 1.016 101.882 1.016C103.162 1.016 104.202 1.448 105.002 2.312C105.834 3.176 106.25 4.36 106.25 5.864C106.25 8.808 105.418 11.944 103.754 15.272C102.122 18.568 99.8824 21.896 97.0344 25.256L94.8264 22.664C97.3864 19.752 99.2904 16.92 100.538 14.168C101.818 11.416 102.458 8.872 102.458 6.536C102.458 5.768 102.378 5.24 102.218 4.952C102.058 4.664 101.802 4.52 101.45 4.52C100.874 4.52 100.25 5.176 99.5784 6.488C98.9064 7.768 98.3304 9.8 97.8504 12.584C97.4024 15.336 97.1784 18.824 97.1784 23.048C97.1784 26.216 97.4984 28.424 98.1384 29.672C98.7784 30.92 99.6424 31.544 100.73 31.544C101.914 31.544 102.97 30.76 103.898 29.192C104.826 27.592 105.802 25.464 106.826 22.808C107.178 21.912 107.706 21.464 108.41 21.464C108.826 21.464 109.178 21.624 109.466 21.944C109.786 22.232 109.946 22.616 109.946 23.096C109.946 23.32 109.898 23.56 109.802 23.816C108.458 27.528 107.098 30.36 105.722 32.312C104.346 34.232 102.634 35.192 100.586 35.192ZM115.381 35.288C112.725 35.288 110.581 34.44 108.949 32.744C107.349 31.016 106.549 28.696 106.549 25.784C106.549 23.672 106.949 21.816 107.749 20.216C108.549 18.616 109.621 17.384 110.965 16.52C112.341 15.656 113.845 15.224 115.477 15.224C117.301 15.224 118.773 15.768 119.893 16.856C121.045 17.944 121.621 19.32 121.621 20.984C121.621 22.104 121.317 23.16 120.709 24.152C120.101 25.112 119.253 25.896 118.165 26.504C117.077 27.08 115.877 27.368 114.565 27.368C113.349 27.368 112.197 27.176 111.109 26.792C110.053 26.408 108.933 25.784 107.749 24.92L109.141 22.424C109.717 22.968 110.501 23.4 111.493 23.72C112.517 24.008 113.509 24.152 114.469 24.152C115.493 24.152 116.309 23.864 116.917 23.288C117.557 22.712 117.877 21.992 117.877 21.128C117.877 20.392 117.669 19.816 117.253 19.4C116.837 18.952 116.277 18.728 115.573 18.728C114.645 18.728 113.781 19.016 112.981 19.592C112.213 20.136 111.589 20.952 111.109 22.04C110.629 23.096 110.389 24.344 110.389 25.784C110.389 27.736 110.853 29.224 111.781 30.248C112.741 31.272 114.069 31.784 115.765 31.784C117.077 31.784 118.245 31.4 119.269 30.632C120.293 29.864 121.269 28.824 122.197 27.512C122.613 26.904 123.109 26.6 123.685 26.6C124.101 26.6 124.453 26.744 124.741 27.032C125.061 27.32 125.221 27.704 125.221 28.184C125.221 28.536 125.109 28.888 124.885 29.24C122.357 33.272 119.189 35.288 115.381 35.288Z"
            fill="white"
          />
        </svg>
        <button
          onClick={() => window.localStorage.removeItem("userId")}
          className="text-white"
        >
          Logout
        </button>
      </Navbar>
      <MainContainer>{outlet}</MainContainer>
    </div>
  );
};
